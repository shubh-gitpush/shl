[build]
  functions = ".netlify/functions"

[build.environment]
  PYTHON_VERSION = "3.12"

[[redirects]]
  from = "/api/health"
  to = "/.netlify/functions/health"
  status = 200

[[redirects]]
  from = "/api/recommend"
  to = "/.netlify/functions/recommend"
  status = 200

[[redirects]]
  from = "/health"
  to = "/.netlify/functions/health"
  status = 200

[[redirects]]
  from = "/recommend"
  to = "/.netlify/functions/recommend"
  status = 200

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

[context.production]
  command = "uvicorn shl_recommender:app --host 0.0.0.0 --port 8000"